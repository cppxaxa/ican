<!DOCTYPE html>
<html>
	<head>
		<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
		<link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
		<link rel="stylesheet" href="https://code.getmdl.io/1.3.0/material.indigo-pink.min.css">
		<script defer src="https://code.getmdl.io/1.3.0/material.min.js"></script>
		<script src="js/monaco/app.bundle.js"></script>
		<script src="js/monaco/2.bundle.js"></script>
		<script src="js/monaco/editor.worker.bundle.js"></script>
		<script>
function getParameterByName(name, url) {
    if (!url) url = window.location.href;
    name = name.replace(/[\[\]]/g, '\\$&');
    var regex = new RegExp('[?&]' + name + '(=([^&#]*)|&|#|$)'),
        results = regex.exec(url);
    if (!results) return null;
    if (!results[2]) return '';
    return decodeURIComponent(results[2].replace(/\+/g, ' '));
}

var dataUrl = null;
var token = null;
function onReady() {
	dataUrl = getParameterByName('url');
	token = getParameterByName('token');
	console.log("[INFO] Editor Got the dataUrl from query 'url': ", dataUrl);
	console.log("[INFO] Editor Got the token from query 'token': ", token);
	var editor = monaco.editor.create(document.getElementById('container'), {
		value: [
			'from banana import *',
			'',
			'class Monkey:',
			'	# Bananas the monkey can eat.',
			'	capacity = 10',
			'	def eat(self, N):',
			"		'''Make the monkey eat N bananas!'''",
			'		capacity = capacity - N*banana.size',
			'',
			'	def feeding_frenzy(self):',
			'		eat(9.25)',
			'		return "Yum yum"'
		].join('\n'),
		language: 'python'
	});
}

document.addEventListener('DOMContentLoaded', onReady, false);
		</script>
	</head>
	<body>
		<div style="box-shadow: 0px 0px 5px 2px rgba(0, 0, 0, 0.1); padding: 3px; margin: 0px; width: 100%; position: fixed; left: 0px;">
			<button class="mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect mdl-button--accent">
				<i class="material-icons">save</i> Save
			</button>
			<button class="mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect">
				<i class="material-icons">history_toggle_off</i> Reset
			</button>
		</div>
		<div id="container" style="margin: 0px; position: fixed; left: 8px; width: calc(100% - 8px); top: 50px; height: calc(100% - 50px); border-style: none;"></div>
	</body>
</html>
